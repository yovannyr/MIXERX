<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:MIXERX.MAUI.ViewModels"
             xmlns:controls="clr-namespace:MIXERX.MAUI.Controls"
             x:Class="MIXERX.MAUI.Views.MobileMainPage"
             x:DataType="vm:MainViewModel"
             BackgroundColor="{StaticResource BackgroundDark}"
             Shell.NavBarIsVisible="False">

    <Grid RowDefinitions="60,*,100">
        
        <!-- Top Bar -->
        <Frame Grid.Row="0" BackgroundColor="{StaticResource BackgroundLight}" Padding="15,0">
            <Grid ColumnDefinitions="*,Auto,Auto">
                <Label Grid.Column="0" Text="MIXERX" FontSize="20" FontAttributes="Bold" TextColor="{StaticResource Primary}" VerticalOptions="Center"/>
                <Button Grid.Column="1" Text="⏵" Command="{Binding StartEngineCommand}" WidthRequest="50"/>
                <Button Grid.Column="2" Text="⏺" Command="{Binding StartRecordingCommand}" WidthRequest="50" BackgroundColor="{StaticResource Accent}"/>
            </Grid>
        </Frame>

        <!-- Deck Switcher (Swipe) -->
        <CarouselView Grid.Row="1" ItemsSource="{Binding Decks}" Margin="10">
            <CarouselView.ItemTemplate>
                <DataTemplate x:DataType="vm:DeckViewModel">
                    <controls:DeckView/>
                </DataTemplate>
            </CarouselView.ItemTemplate>
        </CarouselView>

        <!-- Bottom Controls -->
        <Grid Grid.Row="2" BackgroundColor="{StaticResource BackgroundLight}" ColumnDefinitions="*,*,*,*" Padding="10">
            <Button Grid.Column="0" Text="🎵" FontSize="24"/>
            <Button Grid.Column="1" Text="🎚️" FontSize="24"/>
            <Button Grid.Column="2" Text="📚" FontSize="24"/>
            <Button Grid.Column="3" Text="⚙️" FontSize="24"/>
        </Grid>
        
    </Grid>

</ContentPage>
