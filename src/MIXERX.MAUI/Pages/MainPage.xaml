<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:MIXERX.MAUI.ViewModels"
             xmlns:controls="clr-namespace:MIXERX.MAUI.Controls"
             x:Class="MIXERX.MAUI.Views.MainPage"
             x:DataType="vm:MainViewModel"
             BackgroundColor="{StaticResource BackgroundDark}"
             Shell.NavBarIsVisible="False">

    <Grid RowDefinitions="50,*">
        
        <!-- Top Bar -->
        <Grid Grid.Row="0" BackgroundColor="{StaticResource BackgroundLight}" Padding="15,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <StackLayout Grid.Column="0" Orientation="Horizontal" VerticalOptions="Center">
                <Label Text="MIXERX" FontSize="18" FontAttributes="Bold" TextColor="{StaticResource Primary}"/>
                <Label Text="PRO" FontSize="10" FontAttributes="Bold" TextColor="White" Margin="5,8,0,0"/>
            </StackLayout>

            <StackLayout Grid.Column="1" Orientation="Horizontal" Spacing="10">
                <Button Text="⏵ ENGINE" Style="{StaticResource PrimaryButton}" Command="{Binding StartEngineCommand}"/>
                <Button Text="⏺ REC" BackgroundColor="{StaticResource Accent}" TextColor="White" Command="{Binding StartRecordingCommand}"/>
            </StackLayout>
        </Grid>

        <!-- Main Content: 2 Decks + Mixer -->
        <Grid Grid.Row="1" ColumnDefinitions="*,400,*" Padding="10">
            
            <!-- Deck A -->
            <controls:DeckView Grid.Column="0" Margin="0,0,5,0" BindingContext="{Binding DeckA}"/>

            <!-- Mixer -->
            <controls:MixerView Grid.Column="1" Margin="5,0"/>

            <!-- Deck B -->
            <controls:DeckView Grid.Column="2" Margin="5,0,0,0" BindingContext="{Binding DeckB}"/>

        </Grid>
    </Grid>

</ContentPage>
